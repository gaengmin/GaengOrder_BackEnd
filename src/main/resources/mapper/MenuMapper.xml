<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tableOrder.menu.mapper.MenuMapper">
    <update id="updateMenuStatus" parameterType="long">
        UPDATE MENU
        set menu_status =
                CASE
                    WHEN menu_status = 'Y' THEN 'N'
                    ELSE 'Y'
                    END
        WHERE menu_no = #{menuNo}
          and soft_delete = 'N'
    </update>

    <update id="updateMenuData" parameterType="map">
        UPDATE MENU
        <set>
            <if test="dto.menuName != null">
                menu_name = #{dto.menuName},
            </if>
            <if test="dto.menuPrice != null">
                menu_price = #{dto.menuPrice},
            </if>
            <if test="dto.categoriesNo != null">
                categories_no = #{dto.categoriesNo},
            </if>
            <if test="dto.description != null">
                description = #{dto.description},
            </if>
        </set>
        WHERE menu_no = #{menuNo}
    </update>

</mapper>